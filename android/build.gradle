apply plugin: 'com.android.library'

dependencies {
    if (file('../jni/build.gradle').isFile())
        api project(':jni')
    else
        api 'com.artifex.mupdf:fitz:1.15.0'
    compile "com.facebook.react:react-native:+"

}

android {
    compileSdkVersion rootProject.hasProperty('compileSdkVersion') ? rootProject.compileSdkVersion : 23
    buildToolsVersion rootProject.hasProperty('buildToolsVersion') ? rootProject.buildToolsVersion : "23.0.1"

    defaultConfig {
        minSdkVersion 16
        targetSdkVersion project.hasProperty('targetSdkVersion') ? project.targetSdkVersion : 22
        versionCode 1
        versionName '1.0'
    }

}

uploadArchives {
    repositories {
        mavenDeployer {
            if (project.hasProperty('MAVEN_REPO')) {
                repository(url: MAVEN_REPO)
            } else {
                repository(url: 'file://MAVEN')
            }
            pom {
                artifactId = 'mini'
                project {
                    licenses {
                        license {
                            name 'GNU Affero General Public License'
                            url 'https://www.gnu.org/licenses/agpl-3.0.html'
                        }
                    }
                }
            }
        }
    }
}